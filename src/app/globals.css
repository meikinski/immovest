@import "tailwindcss";

/* ==============================================
   Design Tokens – "Navy · Slate · Sky · Peach"
   (ohne Dark Mode)
   ============================================== */
html, body, #__next, .app-root { background: hsl(var(--bg)); }

:root{
  /* Motion & Radius - Apple-Style */
  --radius-sm: 10px; --radius: 32px; --radius-lg: 40px;
  --ease-snap: cubic-bezier(.4, 0, .2, 1);
  --dur-1: 120ms; --dur-2: 240ms; --dur-3: 360ms;

  /* Neutrals - Apple Gray System */
  --bg: 0 0% 100%;            /* Clean White Background              #FFFFFF   */
  --fg: 0 0% 11%;             /* Text - Deep Dark                    #1d1d1f   */
  --card: 0 0% 100%;          /* Card Background - White             #FFFFFF   */
  --muted: 0 0% 96%;          /* Apple Gray - Light                  #f5f5f7   */
  --muted-foreground: 0 0% 45%; /* Medium Gray                       #737373   */

  /* Brand - Navy & Orange (Apple-inspired) */
  --brand: 210 100% 12%;      /* Deep Navy (Primary)                 #001d3d   */
  --brand-foreground: 0 0% 100%;

  /* Accent */
  --accent: 0 0% 60%;         /* Neutral Gray for subtle accents     #999999   */
  --accent-foreground: 0 0% 100%;

  /* Secondary Brand - Vibrant Orange */
  --brand-2: 25 100% 50%;     /* Vibrant Orange (Secondary/CTA)      #ff6b00   */

  /* Semantik (neutral gehalten) */
  --success: 152 55% 38%;
  --warning: 38 95% 52%;
  --danger: 0 70% 50%;

  /* Typografie - Apple System */
  --font-size-h1: 24px;
  --font-size-label: 14px;
  --font-size-placeholder: 16px;
  --fw-regular: 400; --fw-medium: 500; --fw-semibold: 600; --fw-bold: 700; --fw-extrabold: 800;

  /* -------- Bridge: alte Variablen → neue Tokens -------- */
  --color-primary:           hsl(var(--brand));
  --color-primary-900:       color-mix(in oklab, hsl(var(--brand)) 60%, black);
  --color-primary-300:       color-mix(in oklab, hsl(var(--brand)) 30%, white);
  --color-primary-200:       color-mix(in oklab, hsl(var(--brand)) 20%, white);
  --color-primary-50:        color-mix(in oklab, hsl(var(--brand)) 92%, white);
  --color-primary-25:        color-mix(in oklab, hsl(var(--brand)) 96%, white);

  --color-secondary:         hsl(var(--brand-2)); /* Peach als Secondary */
  --color-accent:            hsl(var(--accent));  /* Slate */

  --color-neutral-light:     hsl(var(--card));    /* Karten-Hintergrund */
  --color-neutral-bg:        hsl(var(--bg));      /* Seiten-Hintergrund */
  --color-input-border:      hsl(var(--muted-foreground));
  --color-input-bg-disabled: color-mix(in oklab, hsl(var(--card)) 88%, hsl(var(--muted)));

  --color-text-default:      hsl(var(--fg));
  --color-text-muted:        hsl(var(--muted-foreground));
  --color-placeholder:       color-mix(in oklab, hsl(var(--muted-foreground)) 70%, white);
}

/* ==============================================
   Base
   ============================================== */

body{
  background:hsl(var(--color-neutral-bg, var(--bg)));
   color:hsl(var(--color-text-default-hsl, var(--fg)));
   font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Inter, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
   line-height:1.5;
}

strong{ background:transparent; padding:0; border-radius:0; font-weight:var(--fw-semibold); }

h1,.page-heading{ font-size:24px; line-height:1.25; font-weight:600; margin-bottom:1rem; }
h2{ font-size:18px; line-height:1.35; font-weight:600; }
h3{ font-size:16px; line-height:1.35; font-weight:600; }
.text-subtle{ color:hsl(var(--muted-foreground)); }
label,.form-label{ font-size:var(--font-size-label); font-weight:var(--fw-medium); margin-bottom:.5rem; }

input::placeholder,textarea::placeholder{
  font-size:var(--font-size-placeholder); font-weight:var(--fw-regular); color:var(--color-placeholder);
}

/* ==============================================
   Cards & Container
   ============================================== */

.card{
  background:hsl(var(--card));
  border-radius:.75rem;
  border:1px solid hsl(var(--muted-foreground)/.14);
  box-shadow:
    0 1px 2px hsl(0 0% 0%/.05),
    0 10px 24px hsl(0 0% 0%/.06);
  padding:1.5rem;
  margin-bottom:1.5rem;
}

/* Dezentes Card-Overlay (optional) */
.card-gradient{
  background-image:linear-gradient(135deg,
    hsl(var(--muted)/.5) 0%,
    hsl(var(--accent)/.06) 55%,
    hsl(var(--brand-2)/.08) 100%
  );
  border-radius:.75rem;
  border:1px solid hsl(var(--muted-foreground)/.12);
  box-shadow:
    0 1px 2px hsl(0 0% 0%/.04),
    0 10px 28px hsl(0 0% 0%/.06);
  padding:1.5rem;
  margin-bottom:1.5rem;
}

.card-scenario{
  background-image: linear-gradient(135deg,
    hsl(var(--muted)/.5) 0%,
    hsl(var(--accent) / .06) 55%,
    hsl(var(--brand-2) / .08) 100%
  );
  border:1px solid hsl(var(--accent)/.25);
  border-radius:.75rem;
  box-shadow:
    0 2px 6px hsl(0 0% 0%/.05),
    0 12px 28px hsl(0 0% 0%/.06);
  padding:1.5rem;
  margin-bottom:1.5rem;
}

/* ==============================================
   Buttons
   ============================================== */

/* Primary (Navy) */
.btn-primary{
  @apply px-8 h-12 rounded-full font-semibold text-white;
  background:hsl(var(--brand));
  box-shadow:0 2px 4px hsl(var(--brand)/.20);
  transition:opacity var(--dur-1) var(--ease-snap), box-shadow var(--dur-1) var(--ease-snap), transform var(--dur-1) var(--ease-snap);
  display:inline-flex; align-items:center; justify-content:center; /* Text immer mittig */
}
.btn-primary:hover{ opacity:.96; box-shadow:0 6px 20px hsl(var(--brand)/.28); transform:translateY(-1px); }
.btn-primary:focus-visible{ outline:none; box-shadow:0 0 0 3px hsl(var(--brand)/.22); }

/* Secondary (Outline in Peach) */
.btn-secondary{
  @apply px-6 h-12 rounded-full font-semibold;
  color:hsl(var(--brand-2));
  background:white;
  border:2px solid hsl(var(--brand-2));
  transition:background-color var(--dur-1) var(--ease-snap), box-shadow var(--dur-1) var(--ease-snap);
}
.btn-secondary:hover{ background:hsl(var(--brand-2)/.12); box-shadow:0 2px 8px hsl(var(--brand-2)/.20); transform:translateY(-1px); }
.btn-secondary:focus-visible{ outline:none; box-shadow:0 0 0 3px hsl(var(--brand-2)/.22); }

/* Back / Ghost-CTA (Navy→Slate) */
.btn-back{
  @apply px-4 h-12 rounded-full font-semibold text-white;
  background: hsl(var(--brand));
  box-shadow:0 2px 4px hsl(var(--brand)/.20);
  transition:opacity var(--dur-1) var(--ease-snap); 
}
.btn-back:hover{ opacity:.85;box-shadow:0 6px 20px hsl(var(--brand)/.28); transform:translateY(-1px); }

/* ==============================================
   Inputs & Utilities
   ============================================== */

@layer utilities{
  /* Glass effect for stacked cards and overlays */
  .glass {
    @apply bg-white/70 backdrop-blur supports-[backdrop-filter]:bg-white/50;
  }

  .input-editable{
    @apply px-4 py-3 text-base bg-white;
    border:1px solid hsl(215 16% 80%);
    border-radius:.375rem;
    transition:box-shadow var(--dur-1) var(--ease-snap), border-color var(--dur-1) var(--ease-snap);
  }
  .input-editable:focus{
    outline:none;
    border-color:hsl(var(--brand-2));               /* Orange-Fokus */
    box-shadow:0 0 0 3px hsl(var(--brand-2)/.20);   /* softer Glow */
   }

.input-total{
    @apply px-4 py-3 text-base text-center font-semibold;
    background: hsl(var(--brand-2) / .10);
    border: 1px solid hsl(var(--brand-2) / .35);
    border-radius: .75rem;
    cursor:not-allowed;
  }

  .input-total:focus {
    outline:none; box-shadow:none;
  }

  .input-computed{
    @apply px-4 py-3 text-base;
    background:var(--color-input-bg-disabled);
    border:1px solid #E2E8F0;
    border-radius:.375rem;
    color:var(--color-text-default)!important;
    font-style:italic;
    cursor:not-allowed;
  }
  .input-computed:focus{ outline:none; box-shadow:none; }

  .gradient-total{
    @apply px-4 py-3 text-base;
    background:linear-gradient(90deg, hsl(var(--brand)/.30), hsl(var(--brand-2)/.30));
    color:var(--color-text-default)!important;
    font-weight:600;
    border-radius:.375rem;
  }
  .gradient-total:focus{ outline:none; border-color:hsl(var(--brand)); }

  .select-underline{
    @apply px-4 py-3 text-base;
    background:white;
    border:1px solid var(--color-input-border);
    appearance: none;
    background-image: none;
    border-radius:.375rem;
    transition:border-color var(--dur-1) var(--ease-snap);
  }
  .select-underline:focus{ outline:none; border-color:hsl(var(--brand-2)); box-shadow:0 0 0 3px hsl(var(--brand-2)/.18); }
}

/* ==============================================
   Tabs & Chips (inspired by shot)
   ============================================== */

.tabs-nav{
  display:flex; gap:.25rem; margin-bottom:1rem;
  border-bottom:1px solid var(--color-input-border);
}
.tab-btn{
  position:relative; padding:.5rem 1rem; border-radius:.375rem .375rem 0 0;
  color:var(--color-text-default);
  transition:background var(--dur-1) var(--ease-snap), color var(--dur-1) var(--ease-snap);
}
tab-btn:hover,
.tab-btn:focus-visible{
  background:hsl(var(--accent));  /* Slate */
  color:#fff;                     /* bessere Lesbarkeit */
  outline:none;
}

.tab-btn--active{
  font-weight:600;
  background:hsl(var(--brand));   /* Navy */
  color:#fff;                     /* hoher Kontrast */
}

.tab-btn--active::after{
   content:''; position:absolute; left:0; right:0; bottom:-1px; height:2px;
  background:#fff; border-radius:2px 2px 0 0;
}
/* Chip (Slate) */
.chip{
  @apply h-8 px-2.5 rounded-md text-sm inline-flex items-center;
  color:hsl(var(--accent));
  background:hsl(var(--accent)/.12);
  border:1px solid hsl(var(--accent)/.28);
}

/* ==============================================
   Slider
   ============================================== */

.slider-card{ background:white; border-radius:.75rem; padding:1rem;
  box-shadow:0 1px 3px hsl(0 0% 0%/.06);
}
.range-input{
  -webkit-appearance:none; width:100%; height:4px; border-radius:999px; outline:none;
  background:linear-gradient(90deg, hsl(var(--brand-2)/.65), hsl(var(--accent)/.55)); /* Orange rein */
}
.range-input::-webkit-slider-thumb{
  -webkit-appearance:none; appearance:none; width:18px; height:18px; border-radius:999px;
  background:#fff; border:2px solid hsl(var(--brand-2)); cursor:pointer;
  box-shadow:0 1px 2px hsl(0 0% 0%/.12);
}
.range-input::-moz-range-thumb{
  width:18px; height:18px; border-radius:999px; background:#fff; border:2px solid hsl(var(--brand-2));
  cursor:pointer; box-shadow:0 1px 2px hsl(0 0% 0%/.12);
}

/* ==============================================
   Helpers
   ============================================== */

/* Hero/CTA Gradient – Navy → Slate → Peach */
.gradient-brand{
  background-image:linear-gradient(135deg,
    hsl(var(--brand)) 0%,
    hsl(var(--accent)) 44%,
    hsl(var(--brand-2)) 100%
  );
}

.text-balance{ text-wrap:balance; }

/* Icon Farbhilfen (für lucide o.ä.) */
.icon{ display:inline-flex; vertical-align:middle; }
.icon-primary{ color: hsl(var(--brand)); }
.icon-secondary{ color: hsl(var(--accent)); }
.icon-accent{ color: hsl(var(--brand-2)); }

/* Helper-Text unter Szenario/Export */
.helper-text{
  color: hsl(var(--muted-foreground));
  font-size: 0.875rem;        /* text-sm */
  line-height: 1.4;
  margin-top: .5rem;
}

/* Runder Icon-Background für Eckdaten */
.icon-badge{
  @apply inline-flex items-center justify-center rounded-full;
  width: 28px; height: 28px;
  background: hsl(var(--accent) / .12);
  color: hsl(var(--brand));
}

/* ==============================================
   Animations (Am Ende von globals.css einfügen)
   ============================================== */

@keyframes fade-in {
  from { 
    opacity: 0; 
    transform: translateY(-4px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

.animate-fade-in {
  animation: fade-in 0.5s ease-out;
}

/* Bounce Animation für Loading Dots */
@keyframes bounce {
  0%, 80%, 100% { 
    transform: translateY(0); 
  }
  40% { 
    transform: translateY(-8px); 
  }
}

.animate-bounce {
  animation: bounce 1s infinite;
}

/* Slide up Animation für Banner */
@keyframes slide-up {
  from {
    opacity: 0;
    transform: translate(-50%, 20px);
  }
  to {
    opacity: 1;
    transform: translate(-50%, 0);
  }
}

.animate-slide-up {
  animation: slide-up 0.4s ease-out;
}